<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Append a vector/column to a dataframe</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../assets/R.css">
</head><body>

<table width="100%" summary="page for ds.append2df {dsbaseclient}"><tr><td>ds.append2df {dsbaseclient}</td><td align="right">R Documentation</td></tr></table>

<h2>Append a vector/column to a dataframe</h2>

<h3>Description</h3>

<p>Append a vector/column to a dataframe
</p>


<h3>Usage</h3>

<pre>
  ds.append2df(datasources = NULL, dataset = NULL,
    xvect = NULL, replace = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of opal object(s) obtained
after login in to opal servers; these objects hold also
the data assign to R, as <code>dataframe</code>, from opal
datasources.</p>
</td></tr>
<tr valign="top"><td><code>dataset</code></td>
<td>
<p>the input dataset, the table to append a
column to.</p>
</td></tr>
<tr valign="top"><td><code>xvect</code></td>
<td>
<p>a numeric or factor vector</p>
</td></tr>
<tr valign="top"><td><code>replace</code></td>
<td>
<p>a character which tells if the intitial
dataframe should be replaced by the the newly dataframe
(i.e. the one with the additional column). If
<code>replace</code> is set to 'FALSE', default, the initial
dataframe is not replaced and the new dataframe is named
as exaplained in the 'details' section of the
documentation. if <code>replace</code> is set to 'TRUE', the
initial dataframe is replaced (i.e. the new dataframe
takes the name of the initial one)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function appends a numeric or factor vector to a
dataframe. The initial dataframe is replaced by the new
dataframe if the argument 'replace' is set to 'TRUE';
otherwise a new dataframe is generated and named after
the intitial dataframe with the addition of a suffixe
'new'; for example if the initial dataframe is 'D' the
new dataframe will be 'Dnew'.
</p>


<h3>Value</h3>

<p>a message is displayed when the action is completed.
</p>


<h3>Author(s)</h3>

<p>Gaye, A. (amadou.gaye
</p>


<h3>Examples</h3>

<pre>
{

# load that contains the login details
data(logindata)

# login and assign specific variable(s)
myvar &lt;- list("LAB_HDL","LAB_TSC")
opals &lt;- datashield.login(logins=logindata, assign=TRUE, variables=myvar, symbol="D")

# generate a new variable (e.g. a mean centered LAB_HDL)
# get the mean of LAB_HDL
mean.lab_hdl &lt;- ds.mean(opals, quote(D$LAB_HDL), type='split')
# center LAB_HDL for each study
for(i in 1:length(opals)){
  call.object &lt;- call("-", quote(D$LAB_HDL), mean.lab_hdl[[i]])
  datashield.assign(opals[i], "lab_hdl.c", call.object)
}

# Example 1: append the variable 'lab_hdl.c' to 'D' and generate 'Dnew'
ds.append2df(datasources=opals, quote(D), quote(lab_hdl.c))

# Example 2: append the variable 'lab_hdl.c' to 'D' and update 'D'
ds.append2df(datasources=opals, dataset=quote(D), xvect=quote(lab_hdl.c), replace=quote(TRUE))
}
</pre>

<hr><div align="center">[Package <em>dsbaseclient</em> version 2.3 ]</div>
</body></html>
