<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Computes the mean proportion across categories</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../assets/R.css">
</head><body>

<table width="100%" summary="page for ds.propMean {dsbaseclient}"><tr><td>ds.propMean {dsbaseclient}</td><td align="right">R Documentation</td></tr></table>

<h2>Computes the mean proportion across categories</h2>

<h3>Description</h3>

<p>This function calculates the mean proportion of a
continuous or binary for the differerent categories of some
categorical variables. The calculation can be carried out
for one continuous or binary outcone variable and up to 3
catagorical explanatory variables. can be processed.
</p>


<h3>Usage</h3>

<pre>
ds.propMean(datasources = NULL, dataset = NULL, outvar = NULL,
  covar1 = NULL, covar2 = NULL, covar3 = NULL, CI = 0.95)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of opal object(s) obtained
after login in to opal servers; these objects hold also
the data assign to R, as <code>dataframe</code>, from opal
datasources.</p>
</td></tr>
<tr valign="top"><td><code>dataset</code></td>
<td>
<p>the name given to the dataset when it was
assigned from opal to R.</p>
</td></tr>
<tr valign="top"><td><code>outvar</code></td>
<td>
<p>a numeric or factor vector, the first
covariate.</p>
</td></tr>
<tr valign="top"><td><code>covar1</code></td>
<td>
<p>a numeric or factor vector, the second
covariate.</p>
</td></tr>
<tr valign="top"><td><code>covar2</code></td>
<td>
<p>a numeric or factor vector, the third
covariate (optional).</p>
</td></tr>
<tr valign="top"><td><code>covar3</code></td>
<td>
<p>a numeric or factor vector, the third
covariate (optional).</p>
</td></tr>
<tr valign="top"><td><code>CI</code></td>
<td>
<p>a value between 0 and 1 that set the threshold
for statisitical significance.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions splits the input dataset into the single
categories and fits a glm model with a constant covariate.
This way, the regression coefficients from the glm fit are
the log odds-ratios (LO) of the outcome variable. The LO
and the standard error (se) are used to compute the lower
and upper limits of the confidence interval.
</p>


<h3>Value</h3>

<p>a list that contains the computed mean, standard error,
upper and lower confidence interval, degrees of freedom of
the fitted model and standard deviation.
</p>


<h3>Author(s)</h3>

<p>Gaye, A.; Isaeva, J.
</p>


<h3>Examples</h3>

<pre>
{

# load that contains the login details
data(logindata)

# login and assign the whole dataset on the opal server
opals &lt;- datashield.login(logins=logindata,assign=TRUE)

# Example 1: calculate the mean proportion for LAB_HDL across gender categories
ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$LAB_HDL), covar1=quote(D$GENDER))

# Example 2: calculate the mean proportion for LAB_HDL across gender and bmi categories
ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$LAB_HDL), covar1=quote(D$GENDER), covar2=quote(D$PM_BMI_CATEGORICAL))

# Example 3: calculate the mean proportion for LAB_HDL across gender bmi and diabetes status categories
ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$LAB_HDL), covar1=quote(D$GENDER), covar2=quote(D$PM_BMI_CATEGORICAL), covar3=quote(D$DIS_DIAB))

# Example 3-5: repeat the above 3 examples but for a binary outcome variable: DIS_CVA (cardio-vascular acccident)
ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$DIS_CVA), covar1=quote(D$GENDER))
## Not run: ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$DIS_CVA), covar1=quote(D$GENDER), covar2=quote(D$PM_BMI_CATEGORICAL))
## Not run: ds.propMean(datasources=opals, dataset=quote(D), outvar=quote(D$DIS_CVA), covar1=quote(D$GENDER), covar2=quote(D$PM_BMI_CATEGORICAL), covar3=quote(D$DIS_DIAB))

}
</pre>

<hr><div align="center">[Package <em>dsbaseclient</em> version 2.4.0 ]</div>
</body></html>
